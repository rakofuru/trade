# Hyperliquid connection
HYPERLIQUID_NETWORK=testnet
HYPERLIQUID_HTTP_URL=https://api.hyperliquid-testnet.xyz
HYPERLIQUID_WS_URL=wss://api.hyperliquid-testnet.xyz/ws

# Main account (trading account address)
HYPERLIQUID_ACCOUNT_ADDRESS=0xYOUR_ACCOUNT

# API Wallet / Agent Wallet private key (0x + 64 hex)
HYPERLIQUID_API_WALLET_PRIVATE_KEY=0xYOUR_API_WALLET_PRIVATE_KEY

# For normal account trading, leave empty. Set only for registered vault/subaccount flow.
HYPERLIQUID_VAULT_ADDRESS=
HYPERLIQUID_VAULT_MODE_ENABLED=false
HYPERLIQUID_REQUIRE_AGENT_WALLET=true

# Budget mode: quota|counter
API_BUDGET_MODE=counter
API_BUDGET_DAILY_MAX_HTTP_CALLS=20000
API_BUDGET_HOURLY_MAX_HTTP_CALLS=2000
API_BUDGET_MAX_WS_RECONNECTS=50
API_BUDGET_DAILY_MAX_ORDERS=2000
API_BUDGET_DAILY_MAX_CANCELS=3000
API_BUDGET_SHUTDOWN_THRESHOLD=0.1
API_BUDGET_STATUS_ENDPOINT=

# Trading setup
TRADING_COINS=ETH,BTC
MARKET_DATA_CANDLE_INTERVAL=1m
BACKFILL_HOURS=24
TRADING_LOOP_INTERVAL_MS=15000
FILL_POLL_INTERVAL_MS=15000
QUOTA_POLL_INTERVAL_MS=30000
WS_WATCHDOG_INTERVAL_MS=5000
WS_MESSAGE_TIMEOUT_MS=60000
REPORT_INTERVAL_MS=3600000
PERSIST_INTERVAL_MS=30000

TRADE_ORDER_SIZE=0.001
TRADE_MAX_SLIPPAGE_BPS=15
TRADE_MAX_SPREAD_BPS=20
TRADE_MIN_BOOK_DEPTH_USD=5000
TRADE_MIN_NOTIONAL_USD=12
TRADE_MAX_NOTIONAL_USD=40
ORDER_RETRY_ON_ALO_ERROR=true
ORDER_RETRY_ON_INVALID_PRICE=true
MAX_ACTIVE_COINS=2
MAX_CONCURRENT_POSITIONS=2

# Hard risk limits (profit-max safety)
DAILY_LOSS_MODE=utc_day
RISK_MAX_DAILY_LOSS_USD=15
RISK_MAX_DRAWDOWN_BPS=450
RISK_MAX_POSITION_NOTIONAL_USD=120
RISK_MAX_ORDER_NOTIONAL_USD=40
RISK_MAX_OPEN_ORDERS=8
OPEN_ORDERS_RECONCILE_INTERVAL_MS=45000
OPEN_ORDERS_RECONCILE_MAX_FAILURES=3
TPSL_ENABLED=true
TP_BPS=80
SL_BPS=50
TPSL_IS_MARKET=true
TPSL_CLEANUP_ON_STOP=true
TPSL_REFRESH_COOLDOWN_MS=15000
FLATTEN_POSITIONS_ON_STOP=true

# Strategy guard + regime/trend/range parameters
STRATEGY_DAILY_FILL_LIMIT=12
STRATEGY_DAILY_TAKER_FILL_LIMIT=3
STRATEGY_CONSECUTIVE_TAKER_LIMIT=2
STRATEGY_DATA_STALE_CANDLE_MS=90000
STRATEGY_DATA_STALE_BOOK_MS=20000
STRATEGY_DATA_STALE_TRADES_MS=20000
STRATEGY_TURBULENCE_ATR_MEDIAN_MULT=1.8
STRATEGY_TREND_ADX_MIN=20
STRATEGY_RANGE_ADX_MAX=15
STRATEGY_TREND_EMA_GAP_BPS_MIN=8
STRATEGY_RANGE_EMA_GAP_BPS_MAX=4
STRATEGY_TREND_BREAKOUT_LOOKBACK_BARS=20
STRATEGY_TREND_BREAKOUT_CONFIRM_BARS=2
STRATEGY_TREND_BREAKOUT_BUFFER_BPS=4
STRATEGY_TREND_BREAKOUT_MIN_BODY_RATIO=0.40
STRATEGY_TREND_BREAKOUT_MAX_RET_1M_PCT=0.90
STRATEGY_TREND_FLOW_WINDOW_SEC=20
STRATEGY_TREND_AGGRESSOR_RATIO_MIN=0.55
STRATEGY_TREND_IMBALANCE_THRESHOLD=0.10
STRATEGY_RANGE_Z_ENTRY=2.0
STRATEGY_RANGE_NO_BREAKOUT_BARS=2
STRATEGY_RANGE_MAX_ATR_PCT=0.60
STRATEGY_RANGE_MAX_RET_1M_PCT=0.35
STRATEGY_MAX_ENTRIES_PER_COIN_PER_HOUR=2
STRATEGY_ENTRY_COOLDOWN_MS=300000
STRATEGY_RESTART_NO_TRADE_MS=300000
STRATEGY_REGIME_MIN_HOLD_MS=600000
STRATEGY_REGIME_CONFIRM_BARS=2
STRATEGY_REGIME_FLIP_WINDOW_MS=1800000
STRATEGY_REGIME_FLIP_MAX_IN_WINDOW=4
STRATEGY_REGIME_FLIP_COOLDOWN_MS=300000
STRATEGY_MIN_EDGE_BASE_BPS=10
STRATEGY_MIN_EDGE_VOL_K=1.8
STRATEGY_MIN_EDGE_SAFETY_BUFFER_BPS=1
STRATEGY_MIN_EDGE_FALLBACK_SLIPPAGE_BPS=2
STRATEGY_MIN_EDGE_MAKER_SLIP_FACTOR=0.65
STRATEGY_FEE_MAKER_BPS=1.8
STRATEGY_FEE_TAKER_BPS=3.6
STRATEGY_FEE_REFRESH_MS=300000
STRATEGY_TREND_MAKER_TTL_MS=8000
STRATEGY_RANGE_MAKER_TTL_MS=10000
STRATEGY_TREND_SL_ATR_MULT=1.2
STRATEGY_TREND_SL_MIN_PCT=0.45
STRATEGY_TREND_SL_MAX_PCT=0.90
STRATEGY_TREND_TP_MULT=1.3
STRATEGY_TREND_TIME_STOP_MS=720000
STRATEGY_TREND_TIME_STOP_PROGRESS_R=0.4
STRATEGY_RANGE_SL_ATR_MULT=1.5
STRATEGY_RANGE_SL_MIN_PCT=0.55
STRATEGY_RANGE_SL_MAX_PCT=1.20
STRATEGY_RANGE_ONE_R_TP_MULT=1.0
STRATEGY_RANGE_TIME_STOP_MS=360000
STRATEGY_RANGE_TIME_STOP_PROGRESS_R=0.3

STRATEGY_DEFAULT_MAKER_MAX_SPREAD_BPS=10
STRATEGY_DEFAULT_TAKER_MAX_SPREAD_BPS=16
STRATEGY_DEFAULT_MAKER_MAX_SLIPPAGE_BPS=10
STRATEGY_DEFAULT_TAKER_MAX_SLIPPAGE_BPS=12
STRATEGY_DEFAULT_TURBULENCE_RET_1M_PCT=0.65
STRATEGY_DEFAULT_TREND_TAKER_TRIGGER_PCT=0.18

BTC_MAKER_MAX_SPREAD_BPS=6
BTC_TAKER_MAX_SPREAD_BPS=10
BTC_MAKER_MAX_SLIPPAGE_BPS=6
BTC_TAKER_MAX_SLIPPAGE_BPS=7
BTC_TURBULENCE_RET_1M_PCT=0.45
BTC_TREND_TAKER_TRIGGER_PCT=0.12

ETH_MAKER_MAX_SPREAD_BPS=10
ETH_TAKER_MAX_SPREAD_BPS=16
ETH_MAKER_MAX_SLIPPAGE_BPS=10
ETH_TAKER_MAX_SLIPPAGE_BPS=10
ETH_TURBULENCE_RET_1M_PCT=0.65
ETH_TREND_TAKER_TRIGGER_PCT=0.18

# Coin universe / automatic battlefield selection
COIN_SELECTION_ENABLED=true
COIN_UNIVERSE_MAX=30
COIN_SELECTION_REFRESH_MS=300000
COIN_COOLDOWN_MS=900000
COIN_REJECT_STREAK_LIMIT=3

# Learning / bandit
BANDIT_EXPLORATION_COEF=1.4
BANDIT_DECAY=0.995
UNREALIZED_REWARD_WEIGHT=0.15
INVENTORY_PENALTY_BPS=1.5
DRAWDOWN_PENALTY_BPS=2.5

# GPT diagnostics + improvement loop (no direct trading decisions)
GPT_ENABLED=false
OPENAI_ENABLED=false
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4.1-mini
OPENAI_BASE_URL=https://api.openai.com/v1
GPT_DAILY_MAX_TOKENS=200000
GPT_MAX_COST_USD=2.0
OPENAI_DAILY_MAX_TOKENS=200000
OPENAI_MAX_COST_USD=2.0
OPENAI_MAX_CALLS=100
OPENAI_BUDGET_EXCEEDED_ACTION=disable
GPT_REPORT_INTERVAL_MS=3600000
GPT_MAX_INPUT_CHARS=12000
GPT_CANARY_CYCLES=40
GPT_PROPOSAL_QUARANTINE_CYCLES=200
GPT_ESTIMATED_USD_PER_1K_TOKENS=0.002

# Canary accept/reject guard
CANARY_MIN_REWARD_DELTA_BPS=0
CANARY_ROLLBACK_DRAWDOWN_BPS=50
CANARY_ROLLBACK_ERROR_RATE=0.25

# Stable operations SLO (reliability-first gate)
STABILITY_MIN_ORDERS=10
STABILITY_MIN_CANCEL_ATTEMPTS=3
STABILITY_MIN_FILL_RATE=0.02
STABILITY_MAX_REJECT_RATE=0.35
STABILITY_MAX_SLIPPAGE_BPS=18
STABILITY_MAX_EXCEPTION_RATE=0.20
STABILITY_MAX_CANCEL_ERROR_RATE=0.80
STABILITY_MAX_WS_RECONNECT_RATIO=0.80
STABILITY_MAX_DRAWDOWN_BPS=350
STABILITY_FAIL_ACTION=shutdown

# Shutdown behavior
CANCEL_OPEN_ORDERS_ON_STOP=true
SHUTDOWN_CLEANUP_MAX_RETRIES=3
SHUTDOWN_CLEANUP_BACKOFF_BASE_MS=500
RUNTIME_KILL_SWITCH_FILE=./data/state/KILL_SWITCH

# Storage and logs
DATA_DIR=./data
STATE_DIR=./data/state
STREAM_DIR=./data/streams
ROLLUP_DIR=./data/rollups
RAW_MAX_FILE_MB=200
RAW_KEEP_DAYS=3
COMPRESSED_KEEP_DAYS=30
ROLLUP_KEEP_DAYS=365
ROLLUP_INTERVAL_SEC=60
LIFECYCLE_INTERVAL_MS=60000
REPORT_RAW_LOOKBACK_HOURS=24
LOG_LEVEL=info

# Replay mode
REPLAY_SPEED=20
REPLAY_MAX_EVENTS=0
